<html>
  <head>
    <meta charset="utf-8">
    <title>Dragging an element</title>
    <style>
      img {
        height: 200px;
      }

      body {
        touch-action: none;
        margin: 0;
      }

      #sidewalk {
        background-color: lightgray;
        height: 50px;
        z-index: -1;
        margin: -30px;
      }
    </style>
  </head>

  <body>
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1083533/dragon.png" alt="dragon" />
    <div id="sidewalk"></div>
  </body>

  <script>
  let originX = null;
  let dragStarted = false;
  function onDragStart(event) {
    originX = event.clientX;
    dragStarted = true;
    event.currentTarget.setPointerCapture(event.pointerId);
  }

  function onDragMove(event) {
    if (!dragStarted) {
      return;
    }
    event.preventDefault();
    const deltaX = event.clientX - originX;
    event.currentTarget.style.transform = 'translateX(' + deltaX + 'px)';
  }

  function onDragEnd(event) {
    dragStarted = false;
  }

  const dragon = document.querySelector('img');
  dragon.addEventListener('pointerdown', onDragStart);
  dragon.addEventListener('pointerup', onDragEnd);
  dragon.addEventListener('pointermove', onDragMove);
  
  </script>
</html>
